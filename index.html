<!doctype html>

<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>All In One - FB ID CREATE</title>
<script src="https://cdn.jsdelivr.net/npm/jssha@3.3.1/dist/sha.min.js"></script>
<style>
:root{--bg:#0f1720;--card:#0b1220;--muted:#9aa4b2;--accent:#06b6d4;--glass: rgba(255,255,255,0.03);}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#071024,#071026 70%);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",sans-serif;color:#e6eef6;overflow:auto;}
.wrap{max-width:1100px;margin:18px auto;padding:10px}
h1{font-size:18px;margin:6px 0 18px;text-align:center;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:14px}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
input.cell,input,textarea{width:100%;padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;font-size:15px;}
button{font-size:15px;cursor:pointer;}
.btn{background:var(--accent);color:#022; border:none;padding:8px 10px;border-radius:8px}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:7px 9px;border-radius:8px}
.btn-clear{background:transparent;border:1px solid rgba(255,100,100,0.3);color:#ff6b6b;padding:4px 6px;border-radius:6px;font-size:12px;margin-left:8px;}
.top-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
.name-box{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.name-display{background:var(--glass);padding:12px;border-radius:10px;min-width:160px;font-weight:600}
.small{font-size:12px;padding:6px 8px}
.center{display:flex;align-items:center;gap:8px}
.muted{color:var(--muted);font-size:13px}
.note{font-size:12px;color:var(--muted);margin-top:8px}
.dynamic-btn-item{position:relative;display:inline-block;margin:2px;}
.dynamic-btn-item .btn{margin-right:0;}
.glowing-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            margin: 10px 0;
            border-radius: 1px;
            animation: glow 2s ease-in-out infinite alternate;
        }

@keyframes glow {
    from { box-shadow: 0 0 5px var(--accent); }
    to { box-shadow: 0 0 15px var(--accent), 0 0 20px var(--accent); }
}

.custom-copy-section {
    margin-top: 10px;
}

</style>
</head>
<body>

<!-- Top iframe -->

<div style="width:100%;height:250px;background:#050812;border-radius:12px;overflow:hidden;margin-bottom:16px">
  <iframe src="https://hitools.pro/find-id" style="width:100%;height:100%;border:0;" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
</div>

<div class="wrap">
<h1>All In One - FB ID CREATE</h1>
<div class="grid">

<!-- Name Generator -->

<div class="card">
<label>Name Generator</label>
<div class="top-actions">
<input id="txtFile" type="file" accept=".txt" />
<button class="btn" id="loadTxtBtn">Load .txt</button>
<button class="btn-ghost" id="clearNamesBtn">Clear</button>
</div>
<div class="name-box" style="margin-top:10px">
<div class="name-display" id="currentName">—</div>
<div style="display:flex;flex-direction:column;gap:8px">
<button class="btn small" id="copyNameBtn">Copy name</button>
<button class="btn small" id="rifatDateBtn">Password</button>
</div>
</div>
<div class="note">Random names without repetition. Copy moves to next name automatically.</div>
</div>

<!-- Dynamic Buttons -->

<div class="card">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
<label>Dynamic Buttons</label>
<button class="btn-clear" id="clearAllDynamicBtn">Clear All</button>
</div>
<div style="display:flex;gap:8px;margin-bottom:6px;flex-wrap:wrap;align-items:center">
<input id="btnInput" type="text" placeholder="Text for copy button" />
<button class="btn" id="createDynamicBtn">Create</button>
</div>
<div id="dynamicBtns" style="display:flex;gap:8px;flex-wrap:wrap"></div>
</div>

<!-- Authenticator -->

<div class="card">
<label>Google Authenticator (TOTP)</label>
<textarea id="secretInput" rows="2" placeholder="Secret (BASE32)"></textarea>
<div style="display:flex;gap:8px;margin-top:8px" class="center">
<button class="btn" id="pasteSecretBtn">Paste Secret</button>
</div>
<div style="display:flex;align-items:center;gap:12px;margin-top:14px">
<div style="font-size:28px;font-weight:700" id="totpCode">------</div>
<button class="btn small" id="copyTotpBtn">Copy Code</button>
<div class="muted" id="totpTimer">—</div>
</div>
</div>

</div>
</div>

<script>
// ================= Name Generator =================
let names=JSON.parse(localStorage.getItem('names')||'[]');
let used=new Set(JSON.parse(localStorage.getItem('used')||'[]'));
const currentNameEl=document.getElementById('currentName');
function saveNames(){ localStorage.setItem('names',JSON.stringify(names)); localStorage.setItem('used',JSON.stringify([...used])); }
function pickRandomName(){ if(names.length===0){ currentNameEl.textContent='—'; return null;} if(used.size>=names.length) used.clear(); let idx; do{ idx=Math.floor(Math.random()*names.length);} while(used.has(idx)&&used.size<names.length); used.add(idx); currentNameEl.textContent=names[idx]; saveNames(); return names[idx]; }
document.getElementById('loadTxtBtn').addEventListener('click',()=>{
  const file=document.getElementById('txtFile').files[0]; if(!file) return alert('Select txt file');
  const r=new FileReader();
  r.onload=e=>{
    const lines=e.target.result.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
    for(const l of lines) if(!names.includes(l)) names.push(l);
    pickRandomName(); saveNames(); alert('Loaded '+lines.length+' names'); };
  r.readAsText(file,'utf-8');
});
document.getElementById('clearNamesBtn').addEventListener('click',()=>{ names=[]; used.clear(); currentNameEl.textContent='—'; saveNames(); });
document.getElementById('copyNameBtn').addEventListener('click',async()=>{ 
  if(names.length===0) { alert('No names loaded'); return; }
  pickRandomName(); 
  const cur=currentNameEl.textContent; 
  if(!cur||cur==='—') return; 
  await navigator.clipboard.writeText(cur); 
});
document.getElementById('rifatDateBtn').addEventListener('click',async()=>{
  const d=new Date(); const text='Rifat'+d.getDate();
  await navigator.clipboard.writeText(text); currentNameEl.textContent=text;
});

// ================= Dynamic Buttons =================
const dynamicBtns=document.getElementById('dynamicBtns');
function saveDynamicButtons(){ const btns=Array.from(dynamicBtns.children).map(b=>b.textContent.replace(' (copy)','')); localStorage.setItem('dynamicBtns',JSON.stringify(btns)); }
function loadDynamicButtons(){ const btns=JSON.parse(localStorage.getItem('dynamicBtns')||'[]'); for(const t of btns) createBtn(t);}
function createBtn(txt){ 
    const b=document.createElement('button'); 
    b.className='btn small'; 
    b.textContent=txt+' (copy)'; 
    b.onclick=async()=>{ await navigator.clipboard.writeText(txt); }; 
    
    dynamicBtns.appendChild(b); 
    saveDynamicButtons(); 
}
document.getElementById('createDynamicBtn').addEventListener('click',()=>{
  const t=document.getElementById('btnInput').value.trim(); if(!t) return; createBtn(t); document.getElementById('btnInput').value='';
});
document.getElementById('clearAllDynamicBtn').addEventListener('click',()=>{ dynamicBtns.innerHTML=''; saveDynamicButtons(); });

loadDynamicButtons();

// ================= TOTP Authenticator =================
const secretInput=document.getElementById('secretInput');
const totpCodeEl=document.getElementById('totpCode');
const totpTimerEl=document.getElementById('totpTimer');
function base32toBytes(base32){ const alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"; let bits="",bytes=[]; base32=base32.replace(/=+$/,"").toUpperCase(); for(let i=0;i<base32.length;i++){ const val=alphabet.indexOf(base32[i]); if(val===-1) continue; bits+=val.toString(2).padStart(5,"0"); } for(let i=0;i+8<=bits.length;i+=8) bytes.push(parseInt(bits.substr(i,8),2)); return new Uint8Array(bytes); }
function generateTOTP(secret){ if(!secret) return '------'; const key=base32toBytes(secret); const epoch=Math.floor(Date.now()/1000); const counter=Math.floor(epoch/30); const buf=new ArrayBuffer(8); const view=new DataView(buf); view.setUint32(4,counter,false); const hmac=new jsSHA("SHA-1","UINT8ARRAY"); hmac.setHMACKey(key,"UINT8ARRAY"); hmac.update(new Uint8Array(buf)); const hash=hmac.getHMAC("UINT8ARRAY"); const offset=hash[hash.length-1]&0xf; const binary=((hash[offset]&0x7f)<<24)|((hash[offset+1]&0xff)<<16)|((hash[offset+2]&0xff)<<8)|(hash[offset+3]&0xff); return (binary%1000000).toString().padStart(6,"0"); }
function updateTOTP(){ totpCodeEl.textContent=generateTOTP(secretInput.value); const sec=30-Math.floor(Date.now()/1000)%30; totpTimerEl.textContent='Refresh in '+sec+'s'; }
setInterval(updateTOTP,1000);
document.getElementById('pasteSecretBtn').addEventListener('click',()=>navigator.clipboard.readText().then(t=>secretInput.value=t));
document.getElementById('copyTotpBtn').addEventListener('click',async()=>{ 
  const v=totpCodeEl.textContent; 
  if(v==='------') return; 
  await navigator.clipboard.writeText(v); 
  // Auto clear after copying
  secretInput.value=''; 
  totpCodeEl.textContent='------';
  totpTimerEl.textContent='—';
});
</script>

</body>
    </html>
